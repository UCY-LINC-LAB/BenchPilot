<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Experiments #  Before starting the benchmarking process, you need to define (i) the cluster under test, and (ii) the experiments you want to perform.
Defining your Cluster #  By defining you cluster, Benchpilot removes the effort of you needing to download docker, docker compose and every docker image you may need for your benchmarking on your worker devices. All you need to do is define your cluster inside the /BenchPilotSDK/conf/bench-cluster.">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="Experiments" />
<meta property="og:description" content="Experiments #  Before starting the benchmarking process, you need to define (i) the cluster under test, and (ii) the experiments you want to perform.
Defining your Cluster #  By defining you cluster, Benchpilot removes the effort of you needing to download docker, docker compose and every docker image you may need for your benchmarking on your worker devices. All you need to do is define your cluster inside the /BenchPilotSDK/conf/bench-cluster." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ucy-linc-lab.github.io/BenchPilot/docs/experiments/" /><meta property="article:section" content="docs" />



<title>Experiments | BenchPilot</title>
<link rel="manifest" href="/BenchPilot/manifest.json">
<link rel="icon" href="/BenchPilot/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/BenchPilot/book.min.fb69d0e92fcd17fb4042199e803e6bfa0ec2c53ccb74bf57e949532662854dff.css" integrity="sha256-&#43;2nQ6S/NF/tAQhmegD5r&#43;g7CxTzLdL9X6UlTJmKFTf8=" crossorigin="anonymous">
  <script defer src="/BenchPilot/flexsearch.min.js"></script>
  <script defer src="/BenchPilot/en.search.min.fd8f4b8988d948a37a24c55e5b4dde32873008b060974b87c0ef24cd0f14c52b.js" integrity="sha256-/Y9LiYjZSKN6JMVeW03eMocwCLBgl0uHwO8kzQ8UxSs=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/BenchPilot/"><img src="/BenchPilot/images/plane.png" alt="Logo" /><span>BenchPilot</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/BenchPilot/docs/getting-started/" class="">Getting Started</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/BenchPilot/docs/installation/" class="">Installation</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/BenchPilot/docs/experiments/" class="active">Experiments</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/BenchPilot/docs/workloads/" class="">Workloads</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/BenchPilot/docs/monitoring/" class="">Monitoring</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/BenchPilot/docs/experiment-analysis/" class="">Post-Experiment Analysis</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/BenchPilot/docs/exteding-framework/" class="">Exteding BenchPilot</a>
  

        </li>
      
    
  </ul>











  
<ul>
  
  <li>
    <a href="http://linc.ucy.ac.cy" target="_blank" rel="noopener">
        About Us
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/BenchPilot/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Experiments</strong>

  <label for="toc-control">
    
    <img src="/BenchPilot/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#defining-your-cluster">Defining your Cluster</a></li>
    <li><a href="#defining-your-experiments">Defining your Experiments</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="strong-stylecolor-40897bexperimentsstrong">
  <strong style="color: #40897B">Experiments</strong>
  <a class="anchor" href="#strong-stylecolor-40897bexperimentsstrong">#</a>
</h1>
<p>Before starting the benchmarking process, you need to define (i) <strong style="color: #40897B">the cluster</strong> under test, and (ii) <strong style="color: #40897B">the experiments</strong> you want to perform.</p>
<h2 id="defining-your-cluster">
  Defining your Cluster
  <a class="anchor" href="#defining-your-cluster">#</a>
</h2>
<p>By defining you cluster, Benchpilot removes the effort of you needing to download docker, docker compose and every docker image you may need for your benchmarking on your worker devices. All you need to do is define your cluster inside the <em>/BenchPilotSDK/conf/bench-cluster.yaml</em>.</p>
<p>Inside the &ldquo;bench-cluster.yaml&rdquo; we define our cluster nodes. So as we can see below, we define our cluster with the keywoard &ldquo;<strong style="color: #40897B">cluster</strong>&rdquo;, and afterwards we define each worker with the keyword &ldquo;<strong style="color: #40897B">node</strong>&rdquo;.</p>
<p>For each worker, it is needed to define their <strong style="color: #40897B">ip</strong>, <strong style="color: #40897B">hostname</strong>, and <strong style="color: #40897B">authentication credentials</strong>. These credentials include the <strong style="color: #40897B">username</strong>, and <strong style="color: #40897B">password</strong> or the <strong style="color: #40897B">path to an ssh key</strong>.</p>
<p>On each node there is also the option to <strong style="color: #40897B">skip the orchestration setup</strong>. For example, if in an experiment we use Docker Swarm as our orchestrator, and that node is already registered as a worker in our swarm, then it will skip the registration process.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">cluster</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">node</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">ip</span>: <span style="color:#e6db74">&#34;xx.xx.xx.xx&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">hostname</span>: <span style="color:#e6db74">&#34;raspberrypi0&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">username</span>: <span style="color:#e6db74">&#34;your_username&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">password</span>: <span style="color:#e6db74">&#34;your_password&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">orchestrator_setup</span>: <span style="color:#e6db74">&#34;false&#34;</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">node</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">ip</span>: <span style="color:#e6db74">&#34;xx.xx.xx.xx&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">hostname</span>: <span style="color:#e6db74">&#34;server0&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">username</span>: <span style="color:#e6db74">&#34;your_username&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">ssh_key_path</span>: <span style="color:#e6db74">&#34;/BenchPilotSDK/conf/ssh_key.pem&#34;</span> <span style="color:#75715e"># this is an example of ssh key path</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ae81ff">..</span>
</span></span></code></pre></div><p>** Please keep in mind that every hostname and ip you declare needs to be accessible by the node you will run the BenchPilot client on.</p>
<h2 id="defining-your-experiments">
  Defining your Experiments
  <a class="anchor" href="#defining-your-experiments">#</a>
</h2>
<p>After defining our cluster, our final step before starting the benchmarking process is to define our experiments! All you need to is define them inside the <em>/BenchPilotSDK/conf/bench-experimens.yaml</em> file using the BenchPilot Model.</p>
<p>The <em>BenchPilot model</em> is composed with <strong style="color: #40897B">experiments</strong>, where <strong style="color: #40897B">workloads</strong> are described.</p>
<p>For each <em>workload</em>, you have to define the following:</p>
<ul>
<li><strong style="color: #40897B">name</strong>, which will be selected from the supported <a href="https://ucy-linc-lab.github.io/BenchPilot/docs/workloads/">workload list</a>, e.g. &ldquo;marketing-campaign&rdquo;,</li>
<li><strong style="color: #40897B">record name</strong>, so that you can later on retrieve monitoring metrics based on it,</li>
<li>number of <strong style="color: #40897B">repetitions</strong>,</li>
<li>workload <strong style="color: #40897B">duration</strong>,</li>
<li>specific workload <strong style="color: #40897B">parameters</strong>,</li>
<li><strong style="color: #40897B">cluster</strong> under test, including the control plane&rsquo;s node public IP, and the list of the worker nodes&rsquo; hostnames,</li>
<li><strong style="color: #40897B">engine</strong> configurations, in case of streaming distributed-based workloads</li>
</ul>
<p>An example of the <em>bench-experimens.yaml</em> can be found below:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">experiments</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">workload</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">name</span>: <span style="color:#e6db74">&#34;marketing-campaign&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">record_name</span>: <span style="color:#e6db74">&#34;storm_x1&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">repetition</span>: <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">duration</span>: <span style="color:#e6db74">&#34;10m&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">parameters</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">campaigns</span>: <span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">tuples_per_second</span>: <span style="color:#ae81ff">1000</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">capacity_per_window</span>: <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">time_divisor</span>: <span style="color:#ae81ff">10000</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">cluster</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">manager</span>: <span style="color:#e6db74">&#34;xx.xx.xx.xx&#34;</span> <span style="color:#75715e"># control-plane node public ip</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">nodes</span>: [ <span style="color:#e6db74">&#34;raspberrypi0&#34;</span>, <span style="color:#e6db74">&#34;server0&#34;</span> ] <span style="color:#75715e"># workers&#39; hostnames</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># define http(s)_proxy only if your BenchPilot client is placed behind a proxy</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">http_proxy</span>: <span style="color:#e6db74">&#34;${http_proxy}&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">https_proxy</span>: <span style="color:#e6db74">&#34;${https_proxy}&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">engine</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">name</span>: <span style="color:#e6db74">&#34;storm&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">parameters</span>:
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">partitions</span>: <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">ackers</span>: <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">workload</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">name</span>: <span style="color:#e6db74">&#34;marketing-campaign&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">record_name</span>: <span style="color:#e6db74">&#34;flink_x1&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">repetition</span>: <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">duration</span>: <span style="color:#e6db74">&#34;30m&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ae81ff">..</span>
</span></span></code></pre></div><p>** BenchPilot will run the experiments with the order you described them.</p>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(n){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(n),e.removeAllRanges(),e.addRange(t)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#defining-your-cluster">Defining your Cluster</a></li>
    <li><a href="#defining-your-experiments">Defining your Experiments</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












